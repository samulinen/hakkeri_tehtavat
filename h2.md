# Viikko 2
Broken Access Control
- Viallinen kulunvalvonta testattiin 94% sovelluksista ja ilmaantuvuus oli 3,81%.
- Kulunvalvonnassa käyttäjät eivät voi toimia heille tarkoitettujen käyttöoikeuksien yli.
- Muutama yleinen haavoittuvuus:
  - URLin muokkaus kulunvalvonta tarkistusten ohittamiseksi
  - Metadatan manipulointi, esim. cookie asetusten toisto tai peukalointi
  - Miskonfiguraatio CORS:ssa(lähteiden välinen resurssien jako?) mahdollistaa epäluotettavista lähteistä pääsyn ohjelmointirajapintaan
- Haavoittuvuuksien ennaltaehkäisy:
  - Kehittäjiin ja laadunvalvojiin tulisi lisätä kulunvalvonnan yksikkö ja integraatiotestejä
  - Toteuta kulunvalvonta mekanismi kerran ja uudelleenkäytä sitä sovelluksessa, minimoi CORS

Fuzz URLs with ffuf

Salaisiin hakemistoihin voi manuaalisesti päästä käsiksi komennoilla /secret, /.svn ja /admin. Fuff tekee tämän automaattisesti. Se voi kokeilla useampaa URL osoitetta automaattisesti, jotta käyttäjän ei tarvitse yksitellen syöttää useita eri URLeja. Kaikki ffuf parametrit näkyvät komennolla ./fuff. 

Tiedoston dirfuzt-0 lataamisen ja toiminnan kanssa tuli ongelmia, enkä päässyt etenemään tehtävässä. Tiedosto avautui ns. salakielisenä enkä oikein ymmärtänyt ohjeista, mitä oli tarkoitus tehdä. Myöskään Debianilla komennot eivät toimineet esim. wget komennolla komentokehote ilmoitti ettei komentoa löydy.

Access Control Vulnerabilities and priviledge escalation
- Kulunvalvonnalla hallitaan käyttäjien pääsyä ja käyttöoikeuksia. Se on riippuvainen todentamisesta ja istuntohallinnasta.
- Vertical Access Control rajaa tiettyjen käyttäjien pääsyä arkaan toiminnallisuuteen(sensitive functionality).
  - VAC Escalationissa non-admin käyttäjä saa admin käyttöoikeudet ja voi esim. poistaa käyttäjiä.
- Horizontal AC rajaa tiettyjen käyttäjien pääsyä resursseihin.
  - HACE käyttäjä pääsee käsiksi toisen käyttäjän resursseihin
- Context-dependant AC rajaa käyttäjän pääsyä sen mukaan, mikä toimenpide käyttäjällä on sovelluksessa meneillään.
- AC heikkouksien ennaltaehkäisy:
  - Vain jos resurssin on tarkoitus olla julkisesti saatavilla saa sen hyväksyä.
  - Testaa ja auditoi AC varmistaaksesi niiden oikeanlaisen toimivuuden.

Raportin krijoittaminen
- Raportointi eli kerrot mitä teit ja mitä tapahtui sen jälkeen.
- Voidaan hyödyntää muistiinpanoja raportin kirjoittamisessa.
- Toisen on voitava toistaa raportissa kerrotut tapahtumat täysin samalla tavalla kuin raportin kirjoittaja.
- Raportoi turhiltakin tuntuvat yksityiskohdat
- Helppolukuisuus on tärkeää ja tiivistelmä lopussa voi auttaa hahmottamaan raportin sisällön paremmin.
- Lähteisiin tulee viitata oikein.
- Valehtelu ja plagiointi vältettävä kaikin tavoin.

  

# Lähteet
A01:2021 – Broken Access Control https://owasp.org/Top10/A01_2021-Broken_Access_Control/

Find Hidden Web Directories - Fuzz URLs with ffuf https://terokarvinen.com/2023/fuzz-urls-find-hidden-directories/

Access control vulnerabilities and privilege escalation https://portswigger.net/web-security/access-control

Raportin kirjoittaminen https://terokarvinen.com/2006/raportin-kirjoittaminen-4/

